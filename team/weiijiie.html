<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Huang Weijie - Billboard Project Portfolio Page</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><!-- #seedu-header--><!--   nav.navbar.navbar-lg.navbar-light.bg-lighter--><!--     .container--><!--       a.navbar-brand href='https://se-edu.github.io/'--><!--        img src=(site_url 'images/SeEduLogo.png') alt='SE-EDU'--><!--       ul.navbar-nav--><!--         li.nav-item--><!--           a.nav-link href='https://se-edu.github.io/addressbook-level1' AB-1--><!--         li.nav-item--><!--           a.nav-link href='https://se-edu.github.io/addressbook-level2' AB-2--><!--         li.nav-item--><!--           a.nav-link.active href=(site_url 'index.html') AB-3--><!--         li.nav-item--><!--           a.nav-link href='https://se-edu.github.io/addressbook-level4' AB-4--><!--         li.nav-item--><!--           a.nav-link href='https://se-edu.github.io/collate' Collate--><!--         li.nav-item--><!--           a.nav-link href='https://se-edu.github.io/se-book' Book--><!--         li.nav-item--><!--           a.nav-link href='https://se-edu.github.io/learningresources' Resources--><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">Billboard</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="../LearningOutcomes.html">LOs</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://https://github.com/AY1920S1-CS2103T-F12-4/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Huang Weijie - <em>Billboard Project Portfolio Page</em></h1></div><div id="content"><div class="sect1">
<h2 id="project-billboard"><a class="link" href="#project-billboard">Project: &lt;Billboard&gt;</a></h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="purpose"><a class="link" href="#purpose">Purpose</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The purpose of this page is to consolidate the various contributions that I have made in the process of working on this software engineering project and building Billboard,
from code and documentation to team tasks and project management.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>For CS2103T, a Software Engineering module, my team of 4 others and I were tasked with enhancing a pre-existing application called AddressBook 3.
It was a desktop Address Book application of considerable size. Through the various cycles of ideation and development, we eventually settled on the idea for Billboard.</p>
</div>
<div class="paragraph">
<p>Billboard is a financial management application with emphasis on speed and simplicity. Among the unique traits of Billboard is that
it is a desktop Command Line Interface (CLI) application, with most of its functionality accessed via typing commands into a console. Billboard supports all the basic operations
that are needed to effective manage your finances. You can:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add new expenses to the list</p>
</li>
<li>
<p>Edit past expenses</p>
</li>
<li>
<p>Delete past expenses</p>
</li>
<li>
<p>View your expenses so you are able to keep track of them</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Additionally, Billboard sports several enhanced features that make it stand out. These features include tagging expenses,
archiving past expenses, filtering the current list of expenses, and dynamically displaying statistics based on the current expense.
All these features aim to ease the process of managing and organizing your finances.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="legend"><a class="link" href="#legend">Legend</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The below styles of formatting are used to demarcate certain sections of text with special meaning:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Additional information that the reader should take note of.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>text</code>: Indicates that text should be treated as a command or code.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="preface"><a class="link" href="#preface">Preface</a></h3>
<div class="paragraph">
<p>This section documents the various contributions I have made to Billboard, in the hopes that it will serve as a useful reference and proof of work in the future.
These contributions include code, documentation, as well as project management.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Code contributed</strong>: [<a href="https://nus-cs2103-ay1920s1.github.io/tp-dashboard/#search=weiijiie">Functional code tracked by RepoSense</a>][<a href="https://github.com/AY1920S1-CS2103T-F12-4/main">GitHub Repository for project</a>]</p>
</li>
<li>
<p><strong>Major Feature</strong>: Completely implemented statistics chart feature from the ground up</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/PPP-chart.png" alt="PPP chart">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Details: Feature is a fully responsive statistic display feature. Statistics based on the currently shown expenses are displayed in a statistics panel.
Any changes to the expenses will automatically trigger an update in the displayed statistics. In addition, various types of charts with various ways to add extra configuration are bundled with the feature.</p>
</li>
<li>
<p>Justification: This feature is a significant and noticeable enhancement to the user experience. One of the critical areas of managing finances is being able
to keep track of and monitor your expenses over time. My statistics feature offers several different ways for users to do that. In addition, its dynamically updating
capabilities means less keystrokes wasted for the user to configure the statistics to see what he wants, greatly improving speed of use.</p>
</li>
<li>
<p>Highlights:</p>
<div class="ulist">
<ul>
<li>
<p>This feature integrates well with, and even complements existing features. Combined with the tagging feature, it allows users to easily group expenses by tags to
view, allowing for a high degree of organization. Combined with the finding functionality, it allows users to be able to effectively search for expenses they want, and instantly get an overview of relevant information.</p>
</li>
<li>
<p>An attempt was made to make the implementation as extensible as possible. For example, adding different types of charts and different options to configure the charts should not be a huge issue.
However, certain other changes such as adding new types of financial records (ie. income) may pose some difficulty to adapt.</p>
</li>
<li>
<p>Credits: JavaFX Chart library, for providing robust, configurable charts GUI implementations.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>&#160;<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Minor enhancements</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Updated Ui to a format that can integrate the statistics chart in an eye-pleasing manner.</p>
</li>
<li>
<p>Wrote reusable and generic classes and methods that team members incorporated into their code. [<a href="https://github.com/AY1920S1-CS2103T-F12-4/main/blob/master/src/main/java/seedu/billboard/commons/core/date/DateInterval.java">DateRange Enum</a>]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>&#160;<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Other contributions</strong>:</p>
</li>
<li>
<p>Project management:</p>
<div class="ulist">
<ul>
<li>
<p>Set up Git Repository with branch protection rules and configured CICD to work with new repository.</p>
</li>
<li>
<p>Set up project issue board on GitHub and created various labels to ease issue management and create a single source of truth for project development.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Enhancements to existing features:</p>
<div class="ulist">
<ul>
<li>
<p>Did initial adapting of <code>Person</code> in AddressBook to <code>Expense</code> in Billboard. [<a href="https://github.com/AY1920S1-CS2103T-F12-4/main/pull/38">PR #38</a>]</p>
</li>
<li>
<p>Extensively wrote tests to help maintain a code coverage of above 75%.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Documentation:</p>
<div class="ulist">
<ul>
<li>
<p>Did the initial adaptation of the user guide from AddressBook to a Billboard specific one. [<a href="https://github.com/AY1920S1-CS2103T-F12-4/main/pull/18">PR #18</a>]</p>
</li>
<li>
<p>Replaced almost all of the instances of the word "AddressBook" and "Person" from the project JavaDocs and replaced them with "Billboard" and "Expense."[<a href="https://github.com/AY1920S1-CS2103T-F12-4/main/pull/38">PR #38</a>]</p>
</li>
</ul>
</div>
</li>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>Pull requests reviewed with constructive comments:</p>
<div class="ulist">
<ul>
<li>
<p>[<a href="https://github.com/AY1920S1-CS2103T-F12-4/main/pull/48">#48</a>]</p>
</li>
<li>
<p>[<a href="https://github.com/AY1920S1-CS2103T-F12-4/main/pull/20">#20</a>]</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Tools:</p>
<div class="ulist">
<ul>
<li>
<p>Added third party libraries (HamCrest and Mockito) to the project to help to ease writing fluent and effective unit tests.</p>
</li>
<li>
<p>Updated Checkstyle rules to fit our teams requirements.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Seen below are the sections that I personally contributed to the User Guide for Billboard. They showcase my ability to write precise and concise instructions
for users that may be unfamiliar, and to explain the purpose and advantage of my feature, the dynamic statistics charts.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="displaying-of-statistics-code-display-stats-code"><a class="link" href="#displaying-of-statistics-code-display-stats-code">Displaying of statistics: <code>display-stats</code></a></h3>
<div class="imageblock">
<div class="content">
<img src="../images/statisticsIntro.png" alt="statisticsIntro">
</div>
</div>
<div class="paragraph">
<p>&#160;<br></p>
</div>
<div class="paragraph">
<p>Billboard has a powerful statistics display system! While trying out other features, you may have realized that the highlighted chart changes from time to time.
That is because Billboard has a <em>fully responsive</em> statistics display with charts that dynamically update themselves. You can simply enter any command that changes the displayed
list of expenses, such as <code>add n/automatic stats displays are cool a/50.00</code>, and watch as the chart updates automatically.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/live-statistics-demo.gif" alt="live statistics demo">
</div>
<div class="title">Figure 1. Live statistics display in action upon adding an expense.</div>
</div>
<div class="paragraph">
<p>&#160;<br></p>
</div>
<div class="paragraph">
<p>Should you want to view different types of statistics and customize the information you get, Billboard also supports various different types of
charts, with a plethora of different customization options. Read the documentation on individual commands below to find out more.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The options available are tailored to each specific chart type and thus, not all charts may support the same options. The individual sections
for each command goes into further detail about the supported options for that command.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>With this, it becomes effortless for you to perform advanced queries on specific types of statistics! For example,
if you want to track the weekly total spending of all your expenses that contain the word "food" over a specific month, simply type <code>display-stats timeline interval/week</code>
followed by <code>find d/food sd/01/01/2019 ed/01/02/2019</code>. (Unsure about this command? Refer to <a href="#Find">[Find]</a> for more information).<br>
&#160;<br></p>
</div>
<div class="sect3">
<h4 id="em-display-timeline-overview-of-expenses-display-stats-timeline-em-br"><a class="link" href="#em-display-timeline-overview-of-expenses-display-stats-timeline-em-br"><em>Display timeline overview of expenses: display-stats timeline</em><br></a></h4>
<div class="imageblock">
<div class="content">
<img src="../images/display-timeline-example-normal.png" alt="display timeline example normal">
</div>
<div class="title">Figure 2. Timeline of expenses grouped by tag</div>
</div>
<div class="paragraph">
<p>&#160;<br></p>
</div>
<div class="paragraph">
<p>You can view one or more timelines that are based on your currently displayed expenses. Upon entering the command, the statistic chart will automatically update to display a timeline configured with the options you have provided.
The expenses over a specified time period are aggregated and added as data points on the timeline, allowing you to easily keep track of your relative spending. You can customize the date interval used, as well as the groupings used to split your expenses into each individual timeline.<br>
&#160;<br>
Usage:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>display-stats timeline interval/&lt;DATE INTERVAL = MONTH&gt; groupby/&lt;GROUPING = NONE&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>INFO:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>DATE_INTERVAL</code>: Specifies the date interval to be used to aggregate the expenses by. Supported date intervals include 'day', 'week', 'month' and 'year'.
The start date of each interval will always be the "logical" start, ie. the start date for "week" will always be a Monday and the start date for "month" will always be the 1st of that month.</p>
</li>
<li>
<p><code>GROUPING</code>: Specifies the grouping to use to group the expenses into each separate timeline. Supported groupings include "none", "tag", "month" and "day-of-week".</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>&#160;<br></p>
</div>
<div class="paragraph">
<p>Example:<br>
<code>display-stats timeline interval/month groupby/tag</code><br>
Displays timelines based on the displayed expenses. First, the expenses are divided based on tag, forming one timeline for every tag. Next, for each timeline, the total amount spent each week, starting from Monday and ending on Sunday, is totalled to form each data point. The chart may look something like this:<br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/display-timeline-example-tag.png" alt="display timeline example tag">
</div>
<div class="title">Figure 3. Chart after executing the above command</div>
</div>
<div class="paragraph">
<p>&#160;<br></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The options for this command, and for all other <code>display-stats</code> commands, are case-sensitive, ie. "Week" is not a valid substitute for "week".
&#160;<br>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="em-display-breakdown-of-expenses-display-stats-breakdown-em-br"><a class="link" href="#em-display-breakdown-of-expenses-display-stats-breakdown-em-br"><em>Display breakdown of expenses: display-stats breakdown</em><br></a></h4>
<div class="imageblock">
<div class="content">
<img src="../images/display-breakdown-example-month.png" alt="display breakdown example month">
</div>
<div class="title">Figure 4. Breakdown of expenses grouped by month.</div>
</div>
<div class="paragraph">
<p>&#160;<br></p>
</div>
<div class="paragraph">
<p>You can break the displayed expenses down into smaller groups and view that breakdown as a pie chart, allowing you to compare your spending between groups. Upon entering the command, the statistic chart will automatically update to display a breakdown chart configured with the options you have provided. The total
expenses per category are totalled and displayed as each slice in the pie chart. You can customize the criteria used to split the expenses into groups.<br></p>
</div>
<div class="paragraph">
<p>&#160;<br>
Usage:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>display-stats breakdown groupby/&lt;GROUPING = TAG&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>&#160;<br>
INFO:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>GROUPING</code>: Specifies the grouping to use to group the expenses into each separate slice in the pie chart.
Supported groupings include "none", "tag", "month" and "day-of-week". Note that the default value for <code>GROUPING</code> for this command is not "none", but "tag". (The "none" option has limited use).<br>
&#160;<br></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example:<br>
<code>display-stats breakdown groupby/MONTH</code><br></p>
</div>
<div class="paragraph">
<p>Shows a pie chart breakdown by month of all currently displayed expenses. Within each grouping, the total expenses in that grouping are summed up, and the
total amount determines the size of its slice of the pie chart.
&#160;<br></p>
</div>
</div>
<div class="sect3">
<h4 id="em-display-heatmap-of-expenses-display-stats-heatmap-em-br"><a class="link" href="#em-display-heatmap-of-expenses-display-stats-heatmap-em-br"><em>Display heatmap of expenses: display-stats heatmap</em><br></a></h4>
<div class="imageblock">
<div class="content">
<img src="../images/display-heatmap-example-normal.png" alt="display heatmap example normal">
</div>
<div class="title">Figure 5. Heatmap of all expenses grouped by tags.</div>
</div>
<div class="paragraph">
<p>&#160;<br></p>
</div>
<div class="paragraph">
<p>You can view a heatmap of total expenses per day for the currently displayed expenses, limited to the past year. The y-axis represents the day of the week the expense was made, while
the x-axis represents the week of the year the expense was made, with each bubble representing the expenses made on that particular day. The larger the bubble for the particular day, the higher the total expenses on that day.
This allows you to get an overall impression of your spending behaviours over the past year.<br></p>
</div>
<div class="paragraph">
<p>&#160;<br>
Usage:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>display-stats heatmap groupby/&lt;GROUPING = NONE&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>INFO:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GROUPING: Specifies the grouping to use to calculate the heatmap. Expenses from different groups that occur on the same day will not be totalled, and will instead form two separate bubbles of different colors.
Accepted values include: "none", "tag", "month", "day-of-week'.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>&#160;<br>
Example:<br>
<code>display-stats heatmap groupby/none</code><br>
Shows a heatmap of all currently displayed expenses, limited to a year. Since "none" grouping was specified, the expenses are not grouped and are all categorized under "All Expenses".
The displayed chart may look something like this:<br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/display-heatmap-example-normal.png" alt="display heatmap example normal">
</div>
</div>
<div class="paragraph">
<p>&#160;<br></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">_Displayed below are the sections I contributed for the developer guide. They highlight the work done into building a clean extensible architecture for statistics display,
and my technical writing capabilities in conveying fairly technically heavy concepts in relatively simple prose. _</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="statistics"><a class="link" href="#statistics">Statistics</a></h3>
<div class="paragraph">
<p>Billboard includes a dynamically updating statistics panel containing a chart. It has the following functionality:<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Every time the displayed list of expenses changes, the chart automatically updates with the new changes</p>
</li>
<li>
<p>Users can submit commands to change the displayed chart as well as change configuration options for the charts</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This functionality is made possible through the statistics module. The statistics module is in charge of generating statistics from the currently displayed expenses and rendering it onto the main window.
There are 2 components that help to do this - the chart component and the statistics generator component.</p>
</div>
<div class="sect3">
<h4 id="Design-Ui-Chart"><a class="link" href="#Design-Ui-Chart">Chart component</a></h4>
<div id="fig-ChartClassDiagram" class="imageblock">
<div class="content">
<img src="../images/ChartClassDiagram.png" alt="ChartClassDiagram">
</div>
<div class="title">Figure 6. Structure of the Chart Component</div>
</div>
<div class="paragraph">
<p>&#160;<br></p>
</div>
<div class="paragraph">
<p>There is a special <code>Chart</code> component that deals with the generation and rendering of specific charts based on user input and the expenses being displayed.
The <code>ChartBox</code> is the main orchestrating class. It is updated with the latest <code>StatisticsFormat</code> and <code>StatisticsFormatOptions</code> that the user selects, via the <code>MainWindow</code>.
These are classes that represent user configuration on what to be displayed. Upon being updated, it creates the appropriate
<code>ExpenseChart</code> with the selected options, to display the selected statistic based on the currently displayed expenses. To transform the data from
the displayed list of expenses to the statistic format required, the <code>StatisticsGenerator</code> component is used. The concrete <code>ExpenseChart</code> obtains the formatted statistics from the
<code>StatisticsGenerator</code> component.</p>
</div>
</div>
<div class="sect3">
<h4 id="statistics-generation-component"><a class="link" href="#statistics-generation-component">Statistics Generation Component</a></h4>
<div class="imageblock">
<div class="content">
<img src="../images/StatisticsGeneratorClassDiagram.png" alt="StatisticsGeneratorClassDiagram">
</div>
<div class="title">Figure 7. Structure of the Statistics Generation Component</div>
</div>
<div class="paragraph">
<p>&#160;<br></p>
</div>
<div class="paragraph">
<p>The concrete <code>ExpenseChart</code> obtains the data to be displayed from the <code>StatisticsGenerator</code> component. A number of classes,
such as <code>BreakdownGenerator</code> and <code>TimelineGenerator</code> extend <code>StatisticsGenerator</code>, and each is in charge of creating a specific
statistic type, ie. <code>ExpenseBreakdown</code> and <code>ExpenseTimeline</code>. These concrete statistic types encapsulate all the information relevant
to the statistic, which the concrete <code>ExpenseChart</code> then uses to render the statistic display.</p>
</div>
</div>
<div class="sect3">
<h4 id="proposed-implementation"><a class="link" href="#proposed-implementation">Proposed Implementation</a></h4>
<div class="paragraph">
<p>The chart feature can be roughly split two separate parts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The dynamic rendering of the chart whenever the displayed expenses are updated</p>
</li>
<li>
<p>The functionality to switch between different statistic types and configure customization options</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The Observer pattern plays an integral role in the implementation of major part of the system. To summarize, it is a design pattern that achieves decoupling
by having observers "subscribe" to changes in an observed object, and being notified upon any changes through callbacks. This is opposed to the observed class directly updating
its observers. In the following, the term "notify observers" will be used to denote the act of an observed class being updated and updating all
its observers, and the term "on update" will be used to denote the act of an observer receiving updates from its observed class.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Below is a high level overview of the behaviour of the system when any command is called.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/DisplayStatisticsActivityDiagram.png" alt="DisplayStatisticsActivityDiagram">
</div>
</div>
<div class="paragraph">
<p>As you can see the logic follows the two paths outlined above. One path where the displayed expenses are updated, and one path where <code>DisplayStatsCommand</code> is executed, updating the chart.
Both paths can lead to the chart updating, followed by the end of the command. Each path will be explored in slightly further detail below.</p>
</div>
<div class="sect4">
<h5 id="update-to-displayed-expenses"><a class="link" href="#update-to-displayed-expenses">Update to displayed expenses</a></h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The current <code>ExpenseChart</code> observes the list of expenses that are contained in the <code>MainWindow</code>.</p>
</li>
<li>
<p>When a command which updates the expenses is executed, that command updates the list of expenses in the model.</p>
</li>
<li>
<p>That update propagates to the list of expenses in <code>MainWindow</code>, which notifies the current chart of its changes.</p>
</li>
<li>
<p>Using a <code>StatisticsGenerator</code>, the <code>ExpenseChart</code> then generates the statistics to be displayed from the new expenses.</p>
</li>
<li>
<p>In this manner, changes to the list of expenses are propagated to the display.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>An example of how this works can be seen in the sequence diagram below, in the example where the user changes the displayed expenses by using the <code>ListCommand</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UpdateExpensesSequenceDiagram.png" alt="UpdateExpensesSequenceDiagram">
</div>
</div>
<div class="paragraph">
<p>&#160;<br></p>
</div>
</div>
<div class="sect4">
<h5 id="displaystatscommand-is-called"><a class="link" href="#displaystatscommand-is-called">DisplayStatsCommand is called</a></h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The orchestrating <code>ChartBox</code> observes <code>StatisticsFormat</code> and <code>StatisticsFormatOptions</code> in the model.</p>
</li>
<li>
<p>When <code>DisplayStatsCommand</code> is called, it updates those two objects in the model sequentially.</p>
</li>
<li>
<p>First, <code>ChartBox</code> is notified about <code>StatisticsFormat</code>, and if there is a new one, it creates the appropriate chart and renders it.</p>
</li>
<li>
<p>Next, if there are changes to <code>StatisticsFormatOptions</code>, the <code>ChartBox</code> propagates the relevant changes to the current displayed chart, to update its display.</p>
</li>
<li>
<p>In this manner, the current chart can be updated with the new <code>StatisticsFormat</code> and <code>StatisticsFormatOptions</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>An example of how this works can be seen in the sequence diagram below, where <code>DisplayStatsCommand</code> is called with a new <code>StatisticsFormat</code>.
<code>StatisticsFormatOptions</code> is omitted for simplicity.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/DisplayStatisticsSequenceDiagram.png" alt="DisplayStatisticsSequenceDiagram">
</div>
</div>
<div class="paragraph">
<p>&#160;<br></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-approach-to-generating-of-statistics"><a class="link" href="#aspect-approach-to-generating-of-statistics">Aspect: Approach to generating of statistics</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong> Alternative one (current choice):</strong> Each time there is a change in the backing list of expenses, the statistics are re-generated
by the specific <code>StatisticsGenerator</code> for the appropriate statistics format.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Simplest implementation, each statistic generator can simply provide a pure function with no side effects that maps from
a list of expenses to the desired format of statistics.</p>
</li>
<li>
<p>Runtime is acceptable as most operations can run in O(n) time at worst, with a reasonable input size of expenses.</p>
</li>
<li>
<p>Statelessness means it is thread safe.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Even in cases where the backing list of expenses only change by one element (eg. when a single expense is deleted), the entire
set of statistics will still be re-generated from the list, thus potentially incurring an expensive operation each time
the list is changed.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong> Alternative two:</strong> Each <code>StatisticsGenerator</code> can be structured as a data structure that keeps track of the current statistics data.
Upon a change in the backing list, only the specific change will be propagated, ie. addition of one new expense will internally call
<code>StatisticsGenerator#AddExpense</code> which modifies the statistics data appropriately.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>For simple list changes like adding/removing a single expense, this approach is much faster as it does not have to regenerate
the statistics from the entire list, the statistics only needs to be updated with the specific change.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Complicated, need to include methods to handle cases where expenses are added, removed and updated, for every statistic type. If the entire
list is changed frequently, there is no performance benefit.</p>
</li>
<li>
<p>Worse in terms of testability. The <code>StatisticsGenerator</code> will depend on an internal state which can be complicated for certain statistics.</p>
</li>
<li>
<p>Not thread safe, in the case of future upgrades to a multi-threaded application, will require adjustments.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative three:</strong> The data for certain aggregate statistics formats can be serialized. These formats include things like lifetime average spending
per day/week/month, total number of expenses etc. Upon addition/removal/update of expenses, an in-mem copy of the serialized data can be updated
and saved.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>The data for certain statistics formats will always be quickly available by simply querying the storage.</p>
</li>
<li>
<p>The data can be stored in a human readable format, so users can view those statistics without opening the application.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Requires extra complexity to serialize the data upon each change to the overall list of expenses.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-11-11 15:24:35 UTC</div></div></div></body></html>