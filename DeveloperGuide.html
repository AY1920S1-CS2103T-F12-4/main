<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Billboard - Developer Guide</title><link rel="stylesheet" href="stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="stylesheets/coderay-asciidoctor.css"></head><body class="article"><!-- #seedu-header--><!--   nav.navbar.navbar-lg.navbar-light.bg-lighter--><!--     .container--><!--       a.navbar-brand href='https://se-edu.github.io/'--><!--        img src=(site_url 'images/SeEduLogo.png') alt='SE-EDU'--><!--       ul.navbar-nav--><!--         li.nav-item--><!--           a.nav-link href='https://se-edu.github.io/addressbook-level1' AB-1--><!--         li.nav-item--><!--           a.nav-link href='https://se-edu.github.io/addressbook-level2' AB-2--><!--         li.nav-item--><!--           a.nav-link.active href=(site_url 'index.html') AB-3--><!--         li.nav-item--><!--           a.nav-link href='https://se-edu.github.io/addressbook-level4' AB-4--><!--         li.nav-item--><!--           a.nav-link href='https://se-edu.github.io/collate' Collate--><!--         li.nav-item--><!--           a.nav-link href='https://se-edu.github.io/se-book' Book--><!--         li.nav-item--><!--           a.nav-link href='https://se-edu.github.io/learningresources' Resources--><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="index.html">Billboard</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link active" href="DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="LearningOutcomes.html">LOs</a></li><li class="nav-item"><a class="nav-link" href="AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://https://github.com/AY1920S1-CS2103T-F12-4/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Billboard - Developer Guide</h1></div><div id="content"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>By: <code>Team F12-4</code>      Since: <code>Sep 2019</code>      Licence: <code>MIT</code></p>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#setting-up">1. Setting up</a></li>
<li><a href="#design">2. Design</a>
<ul class="sectlevel2">
<li><a href="#Design-Architecture">2.1. Architecture</a></li>
<li><a href="#Design-Ui">2.2. UI component</a></li>
<li><a href="#Design-Logic">2.3. Logic component</a></li>
<li><a href="#Design-Model">2.4. Model component</a></li>
<li><a href="#Design-Storage">2.5. Storage component</a></li>
<li><a href="#Design-Commons">2.6. Common classes</a></li>
</ul>
</li>
<li><a href="#implementation">3. Implementation</a>
<ul class="sectlevel2">
<li><a href="#undo-redo-feature">3.1. Undo/Redo feature</a></li>
<li><a href="#archive">3.2. Archive</a></li>
<li><a href="#tagging">3.3. Tagging</a></li>
<li><a href="#enhanced-find">3.4. [Enhanced] Find</a></li>
<li><a href="#statistics">3.5. Statistics</a></li>
<li><a href="#history-feature">3.6. History feature</a></li>
<li><a href="#Up-Down-Feature">3.7. Up/Down key feature</a></li>
<li><a href="#logging">3.8. Logging</a></li>
<li><a href="#Implementation-Configuration">3.9. Configuration</a></li>
</ul>
</li>
<li><a href="#documentation">4. Documentation</a></li>
<li><a href="#testing">5. Testing</a></li>
<li><a href="#dev-ops">6. Dev Ops</a></li>
<li><a href="#product-scope">Appendix A: Product Scope</a></li>
<li><a href="#user-stories">Appendix B: User Stories</a></li>
<li><a href="#use-cases">Appendix C: Use Cases</a>
<ul class="sectlevel2">
<li><a href="#uc02-filter-expenses-by-tag">UC02: Filter expenses by tag</a></li>
<li><a href="#uc03-add-an-expense-to-an-archive">UC03: Add an expense to an archive</a></li>
<li><a href="#uc04-deleting-an-archived-expense">UC04: Deleting an archived expense</a></li>
<li><a href="#uc05-deleting-an-entire-archive">UC05: Deleting an entire archive</a></li>
<li><a href="#uc06-finding-a-expense-record-by-keywords-date-created-and-amount-spent">UC06: Finding a expense record by keywords, date created and amount spent</a></li>
</ul>
</li>
<li><a href="#non-functional-requirements">Appendix D: Non Functional Requirements</a></li>
<li><a href="#glossary">Appendix E: Glossary</a></li>
<li><a href="#product-survey">Appendix F: Product Survey</a></li>
<li><a href="#instructions-for-manual-testing">Appendix G: Instructions for Manual Testing</a>
<ul class="sectlevel2">
<li><a href="#launch-and-shutdown">G.1. Launch and Shutdown</a></li>
<li><a href="#deleting-an-expense">G.2. Deleting an expense</a></li>
<li><a href="#saving-data">G.3. Saving data</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="setting-up"><a class="link" href="#setting-up">1. Setting up</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="SettingUp.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="design"><a class="link" href="#design">2. Design</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="Design-Architecture"><a class="link" href="#Design-Architecture">2.1. Architecture</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/ArchitectureDiagram.png" alt="ArchitectureDiagram">
</div>
<div class="title">Figure 1. Architecture Diagram</div>
</div>
<div class="paragraph">
<p>The <strong><em>Architecture Diagram</em></strong> given above explains the high-level design of the App. Given below is a quick overview of each component.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The <code>.puml</code> files used to create diagrams in this document can be found in the <a href="https://github.com/se-edu/addressbook-level3/tree/master/docs/diagrams/">diagrams</a> folder.
Refer to the <a href="UsingPlantUml.html">Using PlantUML guide</a> to learn how to create and edit diagrams.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>Main</code> has two classes called <a href="https://github.com/se-edu/addressbook-level3/tree/master/src/main/java/seedu/address/Main.java"><code>Main</code></a> and <a href="https://github.com/se-edu/addressbook-level3/tree/master/src/main/java/seedu/address/MainApp.java"><code>MainApp</code></a>. It is responsible for,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>At app launch: Initializes the components in the correct sequence, and connects them up with each other.</p>
</li>
<li>
<p>At shut down: Shuts down the components and invokes cleanup method where necessary.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#Design-Commons"><strong><code>Commons</code></strong></a> represents a collection of classes used by multiple other components.
The following class plays an important role at the architecture level:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>LogsCenter</code> : Used by many classes to write log messages to the App&#8217;s log file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The rest of the App consists of four components.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#Design-Ui"><strong><code>UI</code></strong></a>: The UI of the App.</p>
</li>
<li>
<p><a href="#Design-Logic"><strong><code>Logic</code></strong></a>: The command executor.</p>
</li>
<li>
<p><a href="#Design-Model"><strong><code>Model</code></strong></a>: Holds the data of the App in-memory.</p>
</li>
<li>
<p><a href="#Design-Storage"><strong><code>Storage</code></strong></a>: Reads data from, and writes data to, the hard disk.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each of the four components</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Defines its <em>API</em> in an <code>interface</code> with the same name as the Component.</p>
</li>
<li>
<p>Exposes its functionality using a <code>{Component Name}Manager</code> class.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, the <code>Logic</code> component (see the class diagram given below) defines it&#8217;s API in the <code>Logic.java</code> interface and exposes its functionality using the <code>LogicManager.java</code> class.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LogicClassDiagram.png" alt="LogicClassDiagram">
</div>
<div class="title">Figure 2. Class Diagram of the Logic Component</div>
</div>
<h4 id="how-the-architecture-components-interact-with-each-other" class="discrete">How the architecture components interact with each other</h4>
<div class="paragraph">
<p>The <em>Sequence Diagram</em> below shows how the components interact with each other for the scenario where the user issues the command <code>delete 1</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ArchitectureSequenceDiagram.png" alt="ArchitectureSequenceDiagram">
</div>
<div class="title">Figure 3. Component interactions for <code>delete 1</code> command</div>
</div>
<div class="paragraph">
<p>The sections below give more details of each component.</p>
</div>
</div>
<div class="sect2">
<h3 id="Design-Ui"><a class="link" href="#Design-Ui">2.2. UI component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/UiClassDiagram.png" alt="UiClassDiagram">
</div>
<div class="title">Figure 4. Structure of the UI Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/se-edu/addressbook-level3/tree/master/src/main/java/seedu/address/ui/Ui.java"><code>Ui.java</code></a></p>
</div>
<div class="paragraph">
<p>The UI consists of a <code>MainWindow</code> that is made up of parts e.g. CommandBox`, <code>ResultDisplay</code>, <code>ExpenseListPanel</code>, <code>StatusBarFooter</code>, <code>ChartBox</code> etc. All these, including the <code>MainWindow</code>, inherit from the abstract <code>UiPart</code> class.</p>
</div>
<div class="paragraph">
<p>The <code>UI</code> component uses JavaFx UI framework. The layout of these UI parts are defined in matching <code>.fxml</code> files that are in the <code>src/main/resources/view</code> folder. For example, the layout of the <a href="https://github.com/se-edu/addressbook-level3/tree/master/src/main/java/seedu/address/ui/MainWindow.java"><code>MainWindow</code></a> is specified in <a href="https://github.com/se-edu/addressbook-level3/tree/master/src/main/resources/view/MainWindow.fxml"><code>MainWindow.fxml</code></a></p>
</div>
<div class="paragraph">
<p>The <code>UI</code> component,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Executes user commands using the <code>Logic</code> component.</p>
</li>
<li>
<p>Listens for changes to <code>Model</code> data so that the UI can be updated with the modified data.</p>
</li>
<li>
<p>Has a specialized <code>Chart</code> component that deals specifically with the generation and rendering of charts onto the <code>MainWindow</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Design-Logic"><a class="link" href="#Design-Logic">2.3. Logic component</a></h3>
<div id="fig-LogicClassDiagram" class="imageblock">
<div class="content">
<img src="images/LogicClassDiagram.png" alt="LogicClassDiagram">
</div>
<div class="title">Figure 5. Structure of the Logic Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> :
<a href="https://github.com/se-edu/addressbook-level3/tree/master/src/main/java/seedu/address/logic/Logic.java"><code>Logic.java</code></a></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>Logic</code> uses the <code>BillboardParser</code> class to parse the user command.</p>
</li>
<li>
<p>This results in a <code>Command</code> object which is executed by the <code>LogicManager</code>.</p>
</li>
<li>
<p>The command execution can affect the <code>Model</code> (e.g. adding a person).</p>
</li>
<li>
<p>The result of the command execution is encapsulated as a <code>CommandResult</code> object which is passed back to the <code>Ui</code>.</p>
</li>
<li>
<p>In addition, the <code>CommandResult</code> object can also instruct the <code>Ui</code> to perform certain actions, such as displaying help to the user.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Given below is the Sequence Diagram for interactions within the <code>Logic</code> component for the <code>execute("delete 1")</code> API call.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DeleteSequenceDiagram.png" alt="DeleteSequenceDiagram">
</div>
<div class="title">Figure 6. Interactions Inside the Logic Component for the <code>delete 1</code> Command</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The lifeline for <code>DeleteCommandParser</code> should end at the destroy marker (X) but due to a limitation of PlantUML, the lifeline reaches the end of diagram.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="Design-Model"><a class="link" href="#Design-Model">2.4. Model component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/ModelClassDiagram.png" alt="ModelClassDiagram">
</div>
<div class="title">Figure 7. Structure of the Model Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/se-edu/addressbook-level3/tree/master/src/main/java/seedu/address/model/Model.java"><code>Model.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>Model</code>,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>stores a <code>UserPref</code> object that represents the user&#8217;s preferences.</p>
</li>
<li>
<p>stores the Billboard and ArchiveWrapper data, i.e current expenses and archived past expenses.</p>
</li>
<li>
<p>stores <code>UniqueTagList</code> and <code>TagCountManager</code> to track tags.</p>
</li>
<li>
<p>exposes an unmodifiable <code>ObservableList&lt;Expense&gt;</code> that can be 'observed' e.g. the UI can be bound to this list so that the UI automatically updates when the data in the list change.</p>
</li>
<li>
<p>does not depend on any of the other three components.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As a more OOP model, we can store a <code>Tag</code> list in <code>Billboard</code>, which <code>Expense</code> can reference. This would allow <code>Billboard</code> to only require one <code>Tag</code> object per unique <code>Tag</code>, instead of each <code>Expense</code> needing their own <code>Tag</code> object. An example of how such a model may look like is given below.<br>
<br>
<span class="image"><img src="images/BetterModelClassDiagram.png" alt="BetterModelClassDiagram"></span>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="Design-Storage"><a class="link" href="#Design-Storage">2.5. Storage component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/StorageClassDiagram.png" alt="StorageClassDiagram">
</div>
<div class="title">Figure 8. Structure of the Storage Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/se-edu/addressbook-level3/tree/master/src/main/java/seedu/address/storage/Storage.java"><code>Storage.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>Storage</code> component,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>can save <code>UserPref</code> objects in json format and read it back.</p>
</li>
<li>
<p>can save the Billboard data in json format and read it back.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Design-Commons"><a class="link" href="#Design-Commons">2.6. Common classes</a></h3>
<div class="paragraph">
<p>Classes used by multiple components are in the <code>seedu.billboardbook.commons</code> package.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="implementation"><a class="link" href="#implementation">3. Implementation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes some noteworthy details on how certain features are implemented.</p>
</div>
<div class="sect2">
<h3 id="undo-redo-feature"><a class="link" href="#undo-redo-feature">3.1. Undo/Redo feature</a></h3>
<div class="sect3">
<h4 id="implementation-2"><a class="link" href="#implementation-2">3.1.1. Implementation</a></h4>
<div class="paragraph">
<p>The undo/redo mechanism is facilitated by <code>VersionedBillboard</code>.
It store the state history into a <code>stateList</code> and maintain a state pointer <code>currentStatePointer</code>.
Additionally, it implements the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VersionedBillboard#commit()</code>&#8201;&#8212;&#8201;Saves the current billboard state in its history.</p>
</li>
<li>
<p><code>VersionedBillboard#undo()</code>&#8201;&#8212;&#8201;Restores the previous billboard state from its history.</p>
</li>
<li>
<p><code>VersionedBillboard#redo()</code>&#8201;&#8212;&#8201;Restores a previously undone billboard state from its history.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These operations is exposed in the <code>VersionedBillboard</code> class as <code>VersionedBillboard#commit()</code>., <code>VersionedBillboard#undo()</code> and <code>VersionedBillboard#redo()</code> respectively.</p>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the undo/redo mechanism behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1. The user launches the application for the first time. The <code>VersionedBillboard</code> will be initialized with the initial billboard state, and the <code>currentStatePointer</code> pointing to that single billboard state.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoState0.png" alt="UndoRedoState0">
</div>
<div class="title">Figure 9. Initial state of VersionedBillboard</div>
</div>
<div class="paragraph">
<p>Step 2. The user executes <code>delete 5</code> command to delete the 5th expense in the billboard. The <code>delete</code> command calls <code>VersionedBillboard#commit()</code>, causing the modified state of the billboard after the <code>delete 5</code> command executes to be saved in the <code>stateList</code>, and the <code>statePointer</code> is shifted to the newly inserted billboard state.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoState1.png" alt="UndoRedoState1">
</div>
<div class="title">Figure 10. State of VersionedBillboard after "delete 5" command</div>
</div>
<div class="paragraph">
<p>Step 3. The user executes <code>add n/buy &#8230;&#8203;</code> to add a new person. The <code>add</code> command also calls <code>Model#commit()</code>, causing another modified billboard state to be saved into the <code>stateList</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoState2.png" alt="UndoRedoState2">
</div>
<div class="title">Figure 11. State of VersionedBillboard after "add n/buy&#8230;&#8203;" command</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If a command fails its execution, it will not call <code>VersionedBillboard#commit()</code>, so the billboard state will not be saved into the <code>stateList</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 4. The user now decides that adding the expense was a mistake, and decides to undo that action by executing the <code>undo</code> command. The <code>undo</code> command will call <code>VersionedBillboard#undo()</code>, which will shift the <code>currentStatePointer</code> once to the left, pointing it to the previous billboard state, and restores the billboard to that state.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoState3.png" alt="UndoRedoState3">
</div>
<div class="title">Figure 12. State of VersionedBillboard after "undo" command</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>currentStatePointer</code> is at index 0, pointing to the initial billboard state, then there are no previous billboard states to restore. The <code>undo</code> command uses <code>VersionedBillboard#isRedoable()</code> to check if this is the case. If so, it will return an error to the user rather than attempting to perform the undo.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the undo operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoSequenceDiagram.png" alt="UndoSequenceDiagram">
</div>
<div class="title">Figure 13. Interactions Inside the Logic Component for the <code>undo</code> Command</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The lifeline for <code>UndoCommand</code> should end at the destroy marker (X) but due to a limitation of PlantUML, the lifeline reaches the end of diagram.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>redo</code> command does the opposite&#8201;&#8212;&#8201;it calls <code>VersionedBillboard#redo()</code>, which shifts the <code>currentStatePointer</code> once to the right, pointing to the previously undone state, and restores the billboard to that state.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>currentStatePointer</code> is at index <code>stateList.size() - 1</code>, pointing to the latest billboard state, then there are no undone billboard states to restore. The <code>redo</code> command uses <code>VersionedBillboard#isRedoable()</code> to check if this is the case. If so, it will return an error to the user rather than attempting to perform the redo.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 5. The user then decides to execute the command <code>list</code>. Commands that do not modify the billboard, such as <code>list</code>, will usually not call <code>VersionedBillboard#commit()</code>, <code>VersionedBillboard#undo()</code> or <code>VersionedBillboard#redo()</code>. Thus, the <code>stateList</code> remains unchanged.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoState4.png" alt="UndoRedoState4">
</div>
<div class="title">Figure 14. State of VersionedBillboard after "list" command</div>
</div>
<div class="paragraph">
<p>Step 6. The user executes <code>clear</code>, which calls <code>VersionedBillboard#commit()</code>. Since the <code>currentStatePointer</code> is not pointing at the end of the <code>stateList</code>, all billboard states after the <code>statePointer</code> will be purged. We designed it this way because it no longer makes sense to redo the <code>add n/buy &#8230;&#8203;</code> command. This is the behavior that most modern desktop applications follow.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoState5.png" alt="UndoRedoState5">
</div>
<div class="title">Figure 15. State of VersionedBillboard after "clear" command</div>
</div>
<div class="paragraph">
<p>The following activity diagram summarizes what happens when a user executes a new command:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/CommitActivityDiagram.png" alt="CommitActivityDiagram">
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">3.1.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-undo-redo-executes"><a class="link" href="#aspect-how-undo-redo-executes">Aspect: How undo &amp; redo executes</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Saves the entire billboard.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement.</p>
</li>
<li>
<p>Cons: May have performance issues in terms of memory usage.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Individual command knows how to undo/redo by itself.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Will use less memory (e.g. for <code>delete</code>, just save the expense being deleted).</p>
</li>
<li>
<p>Cons: We must ensure that the implementation of each individual command are correct.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-data-structure-to-support-the-undo-redo-commands"><a class="link" href="#aspect-data-structure-to-support-the-undo-redo-commands">Aspect: Data structure to support the undo/redo commands</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Use a list to store the history of billboard states.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy for new Computer Science student undergraduates to understand, who are likely to be the new incoming developers of our project.</p>
</li>
<li>
<p>Cons: Logic is duplicated twice. For example, when a new command is executed, we must remember to update both <code>Model</code> and <code>VersionedBillboard</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Use <code>HistoryManager</code> for undo/redo</p>
<div class="ulist">
<ul>
<li>
<p>Pros: We do not need to maintain a separate list, and just reuse what is already in the codebase.</p>
</li>
<li>
<p>Cons: Requires dealing with commands that have already been undone: We must remember to skip these commands. Violates Single Responsibility Principle and Separation of Concerns as <code>HistoryManager</code> now needs to do two different things.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="archive"><a class="link" href="#archive">3.2. Archive</a></h3>
<div class="sect3">
<h4 id="implementation-3"><a class="link" href="#implementation-3">3.2.1. Implementation</a></h4>
<div class="sect4">
<h5 id="modelling-archive"><a class="link" href="#modelling-archive">Modelling Archive</a></h5>
<div class="paragraph">
<p>The archive feature supports the following actions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Creating an archive</p>
</li>
<li>
<p>Adding an expense to an archive</p>
</li>
<li>
<p>Reverting/"unarchiving" an archived expense</p>
</li>
<li>
<p>Deleting an archived expense</p>
</li>
<li>
<p>Displaying the list of expense of a particular archive</p>
</li>
<li>
<p>Listing all existing archive names</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These actions are facilitated by the <code>ArchiveWrapper</code> and <code>Archive</code> classes:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ArchiveClassDiagram.png" alt="ArchiveClassDiagram">
</div>
<div class="title">Figure 16. Structure and associations of <code>ArchiveWrapper</code> and <code>Archive</code> classes</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Archive</code> extends from <code>ExpenseList</code> in order to encapsulate an archive name and a list of expenses together as an archive.</p>
</li>
<li>
<p><code>ArchiveWrapper</code> manages all existing archives and hashes each <code>Archive</code> object to its archive name.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Similar to <code>Billboard</code>, which manages the list of current non-archived expenses,
<code>ArchiveWrapper</code> is used in <code>ModelManager</code> and its respective operations are called to access and manipulate archive expenses when an archive command is entered.<br>
Such operations include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ArchiveWrapper#AddArchive(Archive)</code> - Adds the given archive to the current map of archive objects.</p>
</li>
<li>
<p><code>ArchiveWrapper#HasArchive(String)</code> - Checks if the specified archive by the given archive name exists.</p>
</li>
<li>
<p><code>ArchiveWrapper#removeArchive(Archive)</code> - Deletes the given archive from the current map of archive objects. (Assumes given archive already exists)</p>
</li>
<li>
<p><code>ArchiveWrapper#hasArchiveExpense(String, Expense)</code> - Checks if the specified archive by the given archive name has the given expense.</p>
</li>
<li>
<p><code>ArchiveWrapper#addArchiveExpense(String, Expense)</code> - Adds the given expense into the specified archive by the given archive name. (Assumes given archive already exists)</p>
</li>
<li>
<p><code>ArchiveWrapper#removeArchiveExpense(String, Expense)</code> - Deletes the given expense into the specified archive by the given archive name. (Assumes given archive and expense already exists)</p>
</li>
<li>
<p><code>ArchiveWrapper#getArchiveNames()</code> - Returns a set of all existing archive names</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These operations are exposed in the <code>Model</code> interface respectively as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Model#addArchive(Archive)</code></p>
</li>
<li>
<p><code>Model#HasArchive(String)</code></p>
</li>
<li>
<p><code>Model#deleteArchive(Archive)</code></p>
</li>
<li>
<p><code>Model#hasArchiveExpense(String, Expense)</code></p>
</li>
<li>
<p><code>Model#addArchiveExpense(String, Expense)</code></p>
</li>
<li>
<p><code>Model#deleteArchiveExpense(String, Expense)</code></p>
</li>
<li>
<p><code>Model#getArchiveNames()</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario of the add expense to archive function, showing how the command is parsed in <code>Logic</code> and how it interacts with <code>Model</code>:<br></p>
</div>
<div class="paragraph">
<p>Step 1. The user has the application running and has a non empty list of current expenses. The user can enter the <code>list</code> command to bring up
this list.<br></p>
</div>
<div class="paragraph">
<p>Step 2. The user executes the command <code>archive add 3 arc/archiveName</code> to archive an expense.<br>
The command is first parsed by <code>BillboardParser</code> to determine what kind of general command it is. <code>archive</code> indicates it is an archive command so the remaining input is parsed through <code>ArchiveCommandParser</code>.<br>
<code>ArchiveCommandParser</code> determines which archive command should be called. <code>add</code> indicates it is an add command, so the input is parsed for the final time through <code>AddArchiveCommandParser</code> to extract out the arguments entered for the operation.
In this case, the arguments are <code>3</code> and <code>archiveName</code><br></p>
</div>
<div class="paragraph">
<p>This layered parsing process can be visualised below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/AddArchiveCommandSequenceDiagram_Parsing.png" alt="AddArchiveCommandSequenceDiagram Parsing">
</div>
<div class="title">Figure 17. Process of parsing <code>AddArchiveCommand</code> in a cropped sequence diagram</div>
</div>
<div class="paragraph">
<p>Step 3. <code>AddArchiveCommandParser</code> then returns an <code>AddArchiveCommand</code> object to be executed. The <code>AddArchiveCommand</code> performs two checks before executing any changes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>First, it is changed if entered index, <code>3</code>, is a valid index from the current expense list. An exception is thrown and the command is aborted if the index is invalid,
so <code>Model</code> is left unmodified in this case.</p>
</li>
<li>
<p>Next, it is checked if the entered archive name, <code>archiveName</code>, is an existing archive by calling <code>Model#HasArchive(String)</code>. If the archive does not already exist,
then a new archive is created with the given archive name using <code>Model#addArchive(Archive)</code>.<br></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>After the checks are completed and if no exception is thrown, the command executes the archiving of the expense through these steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The expense to be archived is first retrieved by <code>Model#getFilteredList()#get(int)</code></p>
</li>
<li>
<p>The expense is then deleted from the list of current expenses by calling <code>model#deleteExpense(Expense)</code></p>
</li>
<li>
<p>Next, the expense&#8217;s <code>archiveName</code> field is updated using <code>Expense#archiveTo(String)</code></p>
</li>
<li>
<p>Lastly, the expense is added to the specified archive using <code>Model#addArchiveExpense(String, Expense)</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These interactions with <code>Model</code> by <code>AddArchiveCommand</code> can be shown in the cropped portion of the full sequence diagram below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/AddArchiveCommandSequenceDiagram_executeCommand.png" alt="AddArchiveCommandSequenceDiagram executeCommand">
</div>
<div class="title">Figure 18. Interactions between <code>Model</code> and <code>AddArchiveCommand</code> during the execution of the command</div>
</div>
<div class="paragraph">
<p>Step 4. Finally, a <code>CommandResult</code> object initialised with the add expense to archive success message is returned to indicate to the user that the operation was successful.<br></p>
</div>
<div class="paragraph">
<p>Full Sequence diagram of the operation:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/AddArchiveCommandSequenceDiagram.png" alt="AddArchiveCommandSequenceDiagram">
</div>
<div class="title">Figure 19. Full sequence diagram of the operation</div>
</div>
<div class="paragraph">
<p>The following activity diagram summarizes what happens when a user executes a new <code>AddArchiveCommand</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/AddArchiveCommandActivityDiagram.png" alt="AddArchiveCommandActivityDiagram">
</div>
<div class="title">Figure 20. <code>AddArchiveCommand</code> activity diagram</div>
</div>
</div>
<div class="sect4">
<h5 id="storing-archive"><a class="link" href="#storing-archive">Storing Archive</a></h5>
<div class="paragraph">
<p>All expenses, archived and non-archived, are stored in a single JSON file.<br></p>
</div>
<div class="paragraph">
<p>Upon start up of the application, all expenses are retrieved from JSON format and passed into
<code>ModelManager</code> as a combined <code>Billboard</code> object. During the initialization of <code>ModelManager</code>, the expenses in this <code>Billboard</code> object are filtered out into non-archived and
archived expenses by each <code>Expense</code> object&#8217;s <code>archiveName</code> field. The separate lists of non-archive and archive expenses are then used to initialize new <code>Billboard</code> and
<code>ArchiveWrapper</code> objects of <code>ModelManager</code> respectively.<br></p>
</div>
<div class="paragraph">
<p>After each command is executed, the expenses in <code>Model</code> are saved into the JSON file. The method <code>Model#getCombinedBillboard</code> is called which collates all <code>Expense</code> objects
from its <code>Billboard</code> and <code>ArchiveWrapper</code> objects together into a single list and creates a new combined <code>Billboard</code> object. This combined <code>Billboard</code> is returned and used by
<code>Storage</code> to serialize into JSON format and writes it into the JSON file.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">3.2.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-data-structure-to-hold-archives-in-code-archivewrapper-code"><a class="link" href="#aspect-data-structure-to-hold-archives-in-code-archivewrapper-code">Aspect: Data Structure to hold archives in <code>ArchiveWrapper</code></a></h5>
<div class="ulist">
<ul>
<li>
<p><strong> Alternative 1 (Current implementation): </strong> Use of HashMap, mapping each archive name to its <code>Archive</code> object</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Instant access to any archive with the archive name given. Therefore, performing add/delete archive expense operations or checking if an archive exists is fast.</p>
</li>
<li>
<p>Cons: As <code>ArchiveWrapper</code> is initialized with a single list of archive <code>Expense</code> objects, the initialization process is slower as this given list needs to be iterated
through to filter each <code>Expense</code> object into their respective <code>Archive</code> objects in the HashMap.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong> Alternative 2: </strong> Use a single list to store all archive expenses</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Initialization of <code>ArchiveWrapper</code> is fast, as the given list of archive expenses need not be processed.</p>
</li>
<li>
<p>Cons: Some operations, like delete archive expense or get all archive names, are slower as the entire list must be iterated through each time in the worst case scenario.
For example, to check if an expense exists in a particular archive, the entire list must be iterated if the expense to be found is at the end of the list.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-storing-archives"><a class="link" href="#aspect-storing-archives">Aspect: Storing archives</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong> Alternative 1 (Current implementation): </strong> Storing non-archive and archive expenses together</p>
<div class="ulist">
<ul>
<li>
<p>Pros: No new storage classes need to be implemented, as this implementation uses the existing classes only.</p>
</li>
<li>
<p>Cons: Initialization process of <code>ModelManager</code> is slower as the expenses need to be filtered into archive and non-archive expenses first.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong> Alternative 2: </strong> Storing archive expenses as <code>Archive</code> objects in a separate file</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Initialization process of <code>ModelManager</code> is faster, as its <code>ArchiveWrapper</code> object can be initialized directly with the list of <code>Archive</code> objects retrieved from the JSON file.
No filtering of archive and non-archive expense from the same list is needed.</p>
</li>
<li>
<p>Cons: More difficult to implement, as more JSON storage classes must be added and knowledge on serialising and deserialising new objects is needed.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tagging"><a class="link" href="#tagging">3.3. Tagging</a></h3>
<div class="sect3">
<h4 id="proposed-implementation"><a class="link" href="#proposed-implementation">3.3.1. Proposed Implementation</a></h4>
<div class="paragraph">
<p>The tag feature supports the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Adding tags to an expense</p>
</li>
<li>
<p>Removing tags from an expense</p>
</li>
<li>
<p>Filtering expenses by tags</p>
</li>
<li>
<p>Listing all existing tags</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These actions are facilitated by the <code>UniqueTagList</code> and <code>TagCountManager</code> classes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>UniqueTagList</code> maps <code>String</code> to <code>Tag</code> where <code>String</code> is the name of the <code>Tag</code>. It ensures that the same <code>Tag</code> is referenced instead of creating many <code>Tag</code> objects of the same name when adding tags.</p>
</li>
<li>
<p><code>TagCountManager</code> maps <code>Tag</code> to <code>Integer</code>, where <code>Integer</code> is the number of <code>Expense</code> under each <code>Tag</code>. It allows <code>Tag</code> objects that are not tagged with any <code>Expense</code> to be tracked and removed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Operations include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>UniqueTagList#retrieveTags(List&lt;String&gt;)</code>&#8201;&#8212;&#8201;Retrieves corresponding tags from <code>UniqueTagList</code> based on the list of tag names.</p>
</li>
<li>
<p><code>UniqueTagList#removeAll(List&lt;Tag&gt;)</code>&#8201;&#8212;&#8201;Removes tags given in the list from the <code>UniqueTagList</code>.</p>
</li>
<li>
<p><code>UniqueTagList#getTagNames()</code>&#8201;&#8212;&#8201;Returns a list of tag names.</p>
</li>
<li>
<p><code>TagCountManager#incrementAllCount(Set&lt;Tag&gt;)</code>&#8201;&#8212;&#8201;Increment the number of expenses mapped to tags given in the set by 1.</p>
</li>
<li>
<p><code>TagCountManager#decreaseAllCount(Set&lt;Tag&gt;)</code>&#8201;&#8212;&#8201;Decrease number of expenses mapped to tags given in the set by 1.</p>
</li>
<li>
<p><code>TagCountManager#removeZeroCount()</code>&#8201;&#8212;&#8201;Removes all mappings where number of expense is equal to 0.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These operations are exposed in the <code>Model</code> interface as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Model#retrieveTags(List&lt;String&gt;)</code></p>
</li>
<li>
<p><code>Model#incrementCount(Set&lt;Tag&gt;)</code></p>
</li>
<li>
<p><code>Model#decreaseCount(Set&lt;Tag&gt;)</code>&#8201;&#8212;&#8201;<code>TagCountManager#removeZeroCount()</code> and <code>UniqueTagList#removeAll(List&lt;Tag&gt;)</code> is called in this method as well to remove tags not tagged to any expense from <code>UniqueTagList</code> and <code>TagCountManager</code>.</p>
</li>
<li>
<p><code>Model#getTagNames()</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the adding tag mechanism behaves at each step.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Step 1:</strong>
The user launches the application. The <code>Model</code> is initialized with saved data. All tags are loaded into <code>UniqueTagList</code> and <code>TagCountManager</code>.</p>
</li>
<li>
<p><strong>Step 2:</strong>
User enters the command <code>tag add 1 t/test t/test2</code> to add tags to the 1st <code>Expense</code> in Billboard. <code>BillboardParser</code> parses the command, creating a <code>TagCommandParser</code>.
The <code>TagCommandParser</code> then parses <code>add 1 t/test t/test2</code> and creates an <code>AddTagCommandParser</code>. Subsequently, the <code>AddTagCommandParser</code> parses <code>1 t/test1 t/test2</code> into <code>Index</code> 1 and
a list of <code>String</code> consisting of <code>test1</code> and <code>test2</code>. They are then used to create <code>AddTagCommand</code> which is returned to <code>LogicManager</code>.</p>
</li>
<li>
<p><strong>Step 3:</strong>
<code>LogicManager</code> executes the <code>AddTagCommand</code>. During execution, <code>AddTagCommand</code> calls <code>Model#retrieveTags(Set&lt;String&gt;)</code> on the list consisting of <code>test1</code> and <code>test2</code> which returns a set of <code>Tag</code>.
<code>Model#incrementCount(Set&lt;Tag&gt;)</code> is then called on the set of <code>Tag</code>. The 1st <code>Expense</code> is edited and updated in the <code>Model</code> using <code>Model#setExpense(Expense, Expense)</code> and is then shown on the GUI.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Duplicate tags in an <code>Expense</code> is not allowed.
If the user tries to add an existing <code>Tag</code> to an <code>Expense</code>, it will not be added, and <code>Model#incrementCount</code> will not be called.
If the user tries to add duplicate <code>Tag</code>, i.e enter 2 of the same <code>Tag</code>, it will only be added once and number of expense under that <code>Tag</code> will only increment by 1.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the adding tag operation works.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/AddTagSequenceDiagram.png" alt="AddTagSequenceDiagram">
</div>
</div>
<div class="paragraph">
<p>Figure 21. Sequence diagram of executing AddTagCommand.</p>
</div>
<div class="paragraph">
<p>The following activity diagram summarizes what happens when a user enters a command to add tags to an expense.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The lifeline for <code>TagCommandParser</code> and <code>AddTagCommandParser</code> should end at the destroy marker (X) but due to a limitation of PlantUML, the lifeline reaches the end of diagram.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="images/AddTagActivityDiagram.png" alt="AddTagActivityDiagram">
</div>
</div>
<div class="paragraph">
<p>Figure 22. Activity diagram of executing AddTagCommand.</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-3"><a class="link" href="#design-considerations-3">3.3.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-data-structure-to-support-tag-commands"><a class="link" href="#aspect-data-structure-to-support-tag-commands">Aspect: Data structure to support tag commands</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Use a <code>UniqueTagList</code> to map tag names to <code>Tag</code> and <code>TagCountManager</code> to map <code>Tag</code> to number of <code>Expense</code> under it.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Each structure has only one responsibility.</p>
</li>
<li>
<p>Fast retrieval and update of data</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Requires maintenance of both structures as they need to sync with each other.</p>
</li>
<li>
<p>Retrieval of <code>Expense</code> under a <code>Tag</code> requires filtering through the whole list of <code>Expense</code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2 :</strong> Have each <code>Tag</code> store a list of <code>Expense</code> tagged to it.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Fast retrieval of <code>Expenses</code> under each <code>Tag</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Circular dependency</p>
</li>
<li>
<p>Since implementation of Billboard objects are immutable, there is a constant need to update the <code>Expense</code> by replacing it with the updated <code>Expense</code> even after executing non-tag related commands.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 3 :</strong> Use one map to map <code>Tag</code> to <code>Expense</code> tagged to it.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Fast retrieval of <code>Expenses</code> under each <code>Tag</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Since implementation of Billboard objects are immutable, there is a constant need to update the <code>Expense</code> by replacing it with the updated <code>Expense</code> even after executing non-tag related commands.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="enhanced-find"><a class="link" href="#enhanced-find">3.4. [Enhanced] Find</a></h3>
<div class="sect3">
<h4 id="proposed-implementation-2"><a class="link" href="#proposed-implementation-2">3.4.1. Proposed Implementation</a></h4>
<div class="paragraph">
<p>The find feature supports the finding expenses by any combination of the following conditions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Keywords</p>
</li>
<li>
<p>Lower/upper amount limit</p>
</li>
<li>
<p>Lower/upper creation date limit</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These actions are facilitated by the <code>MultiArgPredicate</code> class:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>MultiArgPredicate</code> implements the <code>Predicate</code> interface. It enables filtering of expenses by multiple attributes
through keeping track of a set of predicates that can be applied when prompted by user input.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Operations include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>MultiArgPredicate#setKeywords(List&lt;String&gt;)</code>&#8201;&#8212;&#8201;Set list of keywords to search by.</p>
</li>
<li>
<p><code>MultiArgPredicate#setDateRange(CreatedDate, CreatedDate)</code>&#8201;&#8212;&#8201;Set start date and end date limit to search by.</p>
</li>
<li>
<p><code>MultiArgPredicate#setAmtRange(Amount, Amount)</code>&#8201;&#8212;&#8201;Set upperLimit and lowerLimit of amount of expenses to search by.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the find mechanism behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1.
The user launches the application. The <code>Model</code> is initialized with saved data. All expenses are loaded into <code>FilteredList</code>.</p>
</div>
<div class="paragraph">
<p>Step 2.
User enters the command <code>find d/keywords a/lowerAmtLimit al/upperAmtLimit sd/startDate ed/endDate</code> to find expenses that matches conditions set by user input. <code>BillboardParser</code> parses the command, creating a <code>FindCommandParser</code>.
The <code>FindCommandParser</code> then parses <code>find d/keywords a/lowerAmtLimit al/upperAmtLimit sd/startDate ed/endDate</code> to create a <code>MultiArgPredicate</code> inputted with the different filter parameters.
The <code>MultiArgPredicate</code> is then used to create the <code>FindCommand</code>.</p>
</div>
<div class="paragraph">
<p>Step 3.
<code>LogicManager</code> executes the <code>FindCommand</code>. During execution, <code>FindCommand</code> calls <code>Model#updateFilteredExpenses(Predicate&lt;Expense&gt;)</code> on the list consisting of <code>test1</code> and <code>test2</code> which returns a set of <code>Tag</code>.
<code>Model#incrementCount(Set&lt;Tag&gt;)</code> is then called on the set of <code>Tag</code>. The 1st <code>Expense</code> is edited and updated in the <code>Model</code> using <code>Model#setExpense(Expense, Expense)</code> and is then shown on the UI.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the user tries to input 2 conditions of the same prefix, only the last condition will be used.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-4"><a class="link" href="#design-considerations-4">3.4.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-data-structure-to-support-enhanced-find-command"><a class="link" href="#aspect-data-structure-to-support-enhanced-find-command">Aspect: Data structure to support enhanced find command</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Use a <code>MultiArgPredicate</code> to filter selected expense from the <code>FilteredList</code>.
<code>MultiArgPredicate</code> holds and combines a set of predicates of various types into a single predicate.
Set of predicates can but do not need to include <code>AllContainsKeywordsPredicate</code>, <code>AmountWithinRangePredicate</code> and <code>DateWithinRangePredicate</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Only one variation of input command required.</p>
</li>
<li>
<p>No need for different kinds of find commands to handle filtering by different attribute.</p>
</li>
<li>
<p>No need for different kinds of find command parsers to handle parsing of different variations of input command.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Higher complexity of code in FindCommandParser.</p>
</li>
<li>
<p>User need to use prefix to indicate type of conditions inputted.</p>
</li>
<li>
<p>Additional predicate <code>MultiArgPredicate</code> required to handle filtering by more than one condition.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2 :</strong> <code>FindCommandParser</code> maps input command to individual type of predicate that is used to create find command.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Commands are simpler and shorter.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Limited functionality - can only find by one condition.</p>
</li>
<li>
<p>Use of different types of find commands.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="statistics"><a class="link" href="#statistics">3.5. Statistics</a></h3>
<div class="paragraph">
<p>The statistics module is in charge of generating statistics from the currently displayed expenses and rendering it onto the main window.
There are 2 components that help to do this - the chart component and the statistics generator component.</p>
</div>
<div class="sect3">
<h4 id="Design-Ui-Chart"><a class="link" href="#Design-Ui-Chart">3.5.1. Chart component</a></h4>
<div id="fig-ChartClassDiagram" class="imageblock">
<div class="content">
<img src="images/ChartClassDiagram.png" alt="ChartClassDiagram">
</div>
<div class="title">Figure 21. Structure of the Chart Component</div>
</div>
<div class="paragraph">
<p>There is a special <code>Chart</code> component that deals with the generation and rendering of specific charts based on user input and the expenses being displayed.
Every concrete chart type, eg. <code>ExpenseTimelineChart</code>, <code>ExpenseBreakdownChart</code>, extends from <code>ExpenseChart</code>.
The <code>ChartBox</code> is the main orchestrating class. It is updated on the selected <code>StatisticsFormat</code> and <code>StatisticsFormatOptions</code> by the <code>MainWindow</code>
These are classes that represent user decisions on what to be displayed. Upon being updated, it creates the appropriate
<code>ExpenseChart</code> with the selection options, to display the selected statistic with the currently displayed expenses. The concrete <code>ExpenseCharts</code> get the formatted statistics from the
<code>StatisticsGenerator</code> component.</p>
</div>
</div>
<div class="sect3">
<h4 id="statistics-generation-component"><a class="link" href="#statistics-generation-component">3.5.2. Statistics Generation Component</a></h4>
<div class="imageblock">
<div class="content">
<img src="images/StatisticsGeneratorClassDiagram.png" alt="StatisticsGeneratorClassDiagram">
</div>
<div class="title">Figure 22. Structure of the Statistics Generation Component</div>
</div>
<div class="paragraph">
<p>The <code>Chart</code> component gets the data to be displayed from the StatisticsGenerator component. A number of classes,
such as <code>BreakdownGenerator</code> and <code>TimelineGenerator</code> extend <code>StatisticsGenerator</code>, and each is in charge of creating a specific
statistic type with data processed to fit the chart that displays them.</p>
</div>
</div>
<div class="sect3">
<h4 id="proposed-implementation-3"><a class="link" href="#proposed-implementation-3">3.5.3. Proposed Implementation</a></h4>
<div class="paragraph">
<p>The chart feature can be roughly described as two separate parts: the displaying of the chart itself and the functionality to
switch between arbitrary charts. They will be discussed separately.</p>
</div>
<div class="sect4">
<h5 id="displaying-of-charts"><a class="link" href="#displaying-of-charts">Displaying of charts</a></h5>
<div class="paragraph">
<p>The charts display statistics pertaining to whatever expenses are currently being listed in the <code>MainWindow</code>, and are updated live
as the expenses being displayed change. This functionality is largely done by making use of the Observer pattern. An observable view of
a list is provided by the <code>Logic</code>. The <code>MainWindow</code> has a reference to <code>Logic</code>, and passes a reference to the <code>ObservableList</code>
of <code>Expense</code> to the <code>ChartBox</code> when instantiating it. Changes made to the list of expenses are thus propagated to <code>ChartBox</code>.</p>
</div>
<div class="paragraph">
<p>The <code>ChartBox</code> itself instantiates and displays an <code>ExpenseChart</code>, and passes the list of expenses to it. The <code>ExpenseChart</code>
takes that list of expenses and generates the statistics to be displayed using its own <code>StatisticsGenerator</code>. In this manner,
changes to the list of expenses are propagated to the display. An example of how this works can be seen in the sequence diagram
below, in the example where the user changes the displayed expenses by using the <code>ListCommand</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DisplayStatisticsSequenceDiagram.png" alt="DisplayStatisticsSequenceDiagram">
</div>
<div class="title">Figure 23. Structure of the Statistics Generation Component</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-5"><a class="link" href="#design-considerations-5">3.5.4. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-approach-to-generating-of-statistics"><a class="link" href="#aspect-approach-to-generating-of-statistics">Aspect: Approach to generating of statistics</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong> Alternative one (current choice):</strong> Each time there is a change in the backing list of expenses, the statistics are re-generated
by the specific <code>StatisticsGenerator</code> for the appropriate statistics format.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Simplest implementation, each statistic generator can simply provide a pure function with no side effects that maps from
a list of expenses to the desired format of statistics.</p>
</li>
<li>
<p>Runtime is acceptable as most operations can run in O(n) time at worst, with a reasonable input size of expenses.</p>
</li>
<li>
<p>Statelessness means it is thread safe.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Even in cases where the backing list of expenses only change by one element (eg. when a single expense is deleted), the entire
set of statistics will still be re-generated from the list, thus potentially incurring an expensive operation each time
the list is changed.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong> Alternative two:</strong> Each <code>StatisticsGenerator</code> can be structured as a data structure that keeps track of the current statistics data.
Upon a change in the backing list, only the specific change will be propagated, ie. addition of one new expense will internally call
<code>StatisticsGenerator#AddExpense</code> which modifies the statistics data appropriately.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>For simple list changes like adding/removing a single expense, this approach is much faster as it does not have to regenerate
the statistics from the entire list, the statistics only needs to be updated with the specific change.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Complicated, need to include methods to handle cases where expenses are added, removed and updated, for every statistic type. If the entire
list is changed frequently, there is no performance benefit.</p>
</li>
<li>
<p>Worse in terms of testability. The <code>StatisticsGenerator</code> will depend on an internal state which can be complicated for certain statistics.</p>
</li>
<li>
<p>Not thread safe, in the case of future upgrades to a multi-threaded application, will require adjustments.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative three:</strong> The data for certain aggregate statistics formats can be serialized. These formats include things like lifetime average spending
per day/week/month, total number of expenses etc. Upon addition/removal/update of expenses, an in-mem copy of the serialized data can be updated
and saved.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>The data for certain statistics formats will always be quickly available by simply querying the storage.</p>
</li>
<li>
<p>The data can be stored in a human readable format, so users can view those statistics without opening the application.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Requires extra complexity to serialize the data upon each change to the overall list of expenses.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="history-feature"><a class="link" href="#history-feature">3.6. History feature</a></h3>
<div class="sect3">
<h4 id="implementation-4"><a class="link" href="#implementation-4">3.6.1. Implementation</a></h4>
<div class="paragraph">
<p>The history function will enable user to view previous actions.</p>
</div>
<div class="paragraph">
<p>Billboard will store all the command entered even the command is never executed.</p>
</div>
<div class="paragraph">
<p>This function is facilitated by the <code>CommandHistory</code> class.</p>
</div>
<div class="paragraph">
<p>All the histories will be store in a static list <code>cmdList</code> in <code>CommandHistory</code>.</p>
</div>
<div class="paragraph">
<p>Also, a state pointer that initially point to the start of cmdList will be maintain
for Up(<code>&uarr;</code>)/Down(<code>&darr;</code>) key feature(See <a href="#Up-Down-Feature">Section 3.7, &#8220;Up/Down key feature&#8221;</a>)</p>
</div>
<div class="paragraph">
<p>Additionally, it implements the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>CommandHistory#addCmdHistory(String)</code>&#8201;&#8212;&#8201;Store the command into cmdList.</p>
</li>
<li>
<p><code>CommandHistory#peekNextCmd()</code>&#8201;&#8212;&#8201;Get the next command in command history.</p>
</li>
<li>
<p><code>CommandHistory#peekPreviousCmd()</code>&#8201;&#8212;&#8201;Get the previous command in command history.</p>
</li>
<li>
<p><code>CommandHistory#hasCommand()</code>&#8201;&#8212;&#8201;Check whether any command is executed.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/CommandHistoryClassDiagram.png" alt="CommandHistoryClassDiagram">
</div>
<div class="title">Figure 24. Sequence diagram of CommandHistory class</div>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the storing operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DeleteSequenceDiagram.png" alt="DeleteSequenceDiagram">
</div>
<div class="title">Figure 25. Interactions Inside the Logic Component for the <code>delete</code> Command</div>
</div>
<div class="paragraph">
<p>The LogicManager will store the command to CommandHistory before parsing it to ensure all commands are saved.</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-6"><a class="link" href="#design-considerations-6">3.6.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-command-histories-are-stored"><a class="link" href="#aspect-how-command-histories-are-stored">Aspect: How command histories are stored</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Initial a CommandHistory class to store them.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement.</p>
</li>
<li>
<p>Cons: None.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Maintain a list in Model and store them.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: None.</p>
</li>
<li>
<p>Cons: Duplicate list will be saved while saving billboards to VersionedBillboard. Also, restoring billboard will need to update the history list.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Up-Down-Feature"><a class="link" href="#Up-Down-Feature">3.7. Up/Down key feature</a></h3>
<div class="sect3">
<h4 id="implementation-5"><a class="link" href="#implementation-5">3.7.1. Implementation</a></h4>
<div class="paragraph">
<p>Pressing Up(<code>&uarr;</code>)/Down(<code>&darr;</code>) key in <code>TextFiled</code> can navigate through the command history.</p>
</div>
<div class="paragraph">
<p>This feature makes use of the command history and state pointer stored while executing the previous command.</p>
</div>
<div class="paragraph">
<p>When initializing the fxml object <code>TextFiled</code> in <code>CommandBox</code> class,
an action listener will be set to monitor the keyboard activity.
Whenever a Up(<code>&uarr;</code>)/Down(<code>&darr;</code>) key is pressed, it will retrieve the previous/next command from the <code>CommandHistory</code>.</p>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the Up(<code>&uarr;</code>)/Down(<code>&darr;</code>) mechanism behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1. The user launches the application for the first time.
The CommandHistory will be initialized with no command state,
and the statePointer is not pointing to any command state.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UpDownKeyState0.png" alt="UpDownKeyState0">
</div>
<div class="title">Figure 26. Initial state of CommandHistory</div>
</div>
<div class="paragraph">
<p>Step 2. The user then execute the delete 5 command to delete the 5th expense in the billboard.
The LogicManager calls CommandHistory#addCmdHistory() and a new command is append to the end of cmdList.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UpDownKeyState1.png" alt="UpDownKeyState1">
</div>
<div class="title">Figure 27. State of CommandHistory after "delete 5" command</div>
</div>
<div class="paragraph">
<p>Step 3. The user now decides to execute the next command in the command history and press the Up(<code>&uarr;</code>)key.
The actionListener of the TextField will call CommandHistory#peekNextCmd(),
which will shift the statePointer once to the right,
pointing it to the next command, and return it.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UpDownKeyState2.png" alt="UpDownKeyState2">
</div>
<div class="title">Figure 28. State of CommandHistory after Up(<code>&uarr;</code>)key</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>statePointer</code> is at the end of cmdList, pointing to the final command state,
then there are no next command states to get,
it will return the last command to the user rather than attempting to get the next command.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the Up(<code>&uarr;</code>)key works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UpkeySequenceDiagram.png" alt="UpkeySequenceDiagram">
</div>
<div class="title">Figure 29. Interactions between components of CommandBox and CommandHistory for the Up(<code>&uarr;</code>)key</div>
</div>
<div class="paragraph">
<p>The Down(<code>&darr;</code>) key does the opposite — it calls CommandHistory#peekPreviousCmd(),
which shifts the statePointer once to the left,
pointing to the previous command state, and return the command.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="logging"><a class="link" href="#logging">3.8. Logging</a></h3>
<div class="paragraph">
<p>We are using <code>java.util.logging</code> package for logging. The <code>LogsCenter</code> class is used to manage the logging levels and logging destinations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The logging level can be controlled using the <code>logLevel</code> setting in the configuration file (See <a href="#Implementation-Configuration">Section 3.9, &#8220;Configuration&#8221;</a>)</p>
</li>
<li>
<p>The <code>Logger</code> for a class can be obtained using <code>LogsCenter.getLogger(Class)</code> which will log messages according to the specified logging level</p>
</li>
<li>
<p>Currently log messages are output through: <code>Console</code> and to a <code>.log</code> file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Logging Levels</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SEVERE</code> : Critical problem detected which may possibly cause the termination of the application</p>
</li>
<li>
<p><code>WARNING</code> : Can continue, but with caution</p>
</li>
<li>
<p><code>INFO</code> : Information showing the noteworthy actions by the App</p>
</li>
<li>
<p><code>FINE</code> : Details that is not usually noteworthy but may be useful in debugging e.g. print the actual list instead of just its size</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Implementation-Configuration"><a class="link" href="#Implementation-Configuration">3.9. Configuration</a></h3>
<div class="paragraph">
<p>Certain properties of the application can be controlled (e.g user prefs file location, logging level) through the configuration file (default: <code>config.json</code>).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="documentation"><a class="link" href="#documentation">4. Documentation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="Documentation.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing"><a class="link" href="#testing">5. Testing</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="Testing.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dev-ops"><a class="link" href="#dev-ops">6. Dev Ops</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="DevOps.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="product-scope"><a class="link" href="#product-scope">Appendix A: Product Scope</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Target user profile</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>has a need to manage a significant number of expenses</p>
</li>
<li>
<p>prefer desktop apps over other types</p>
</li>
<li>
<p>can type fast</p>
</li>
<li>
<p>prefers typing over mouse input</p>
</li>
<li>
<p>is reasonably comfortable using CLI apps</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Value proposition</strong>: manage expenses faster than a typical mouse/GUI driven app</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="user-stories"><a class="link" href="#user-stories">Appendix B: User Stories</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Priorities: High (must have) - <code>* * *</code>, Medium (nice to have) - <code>* *</code>, Low (unlikely to have) - <code>*</code></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 59%;">
<colgroup>
<col style="width: 22%;">
<col style="width: 23%;">
<col style="width: 25%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Priority</th>
<th class="tableblock halign-left valign-top">As a &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">I want to &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">So that I can&#8230;&#8203;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">new user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">See command instruction and usage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refer to instructions when I forget how to use the App</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add a new record</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Track my spending/income</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forgetful user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add additional details through a description for each record</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Better keep track of the details of an expense/income</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delete a record</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remove expenses/income that I no longer need</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Careless user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Edit an existing record</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Make changes to any mistakes made</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">View a record</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">View additional information of an expense/income</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tag a record</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Categorize and better manage my records</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify a time stamp on expenses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Know when I spend my money</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sort and filter records by category or tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Know how my spending/income is distributed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Archive past records</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Better manage current expenses</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unarchive records</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">View the list of records in an archive</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keep track of what records I have in a particular archive</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">View the list of all archives</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keep track of how many archives I have and what their names are</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delete an archived record</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delete archive entries that are no longer needed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deleted an entire archive</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delete any unneeded archive</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Visually inclined user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attach an image to each record</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conveniently record additional details of the expense instead of typing it all out</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create custom tags</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To better categorise my expenses</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hide records</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maintain privacy on certain sensitive expenses/income</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Student who tends to overspend</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set a time-based budget</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Regulate my spending for the day/week/month with a set limit</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Busy student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Automate archiving of outdated records</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not need to manually archive them constantly</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Frequent traveller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add records in foreign currency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Track my expenses when overseas conveniently without having to manually convert currencies</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data oriented user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Have monthly statistics on my expenses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Better track and manage my expenses</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User who manages my finance daily</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use one-shot/shortcut commands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use the program more efficiently</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set a password for this application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hide my data</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>{More to be added}</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="use-cases"><a class="link" href="#use-cases">Appendix C: Use Cases</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>(For all use cases below, the <strong>System</strong> is the <code>Billboard</code> and the <strong>Actor</strong> is the <code>user</code>, unless specified otherwise)</p>
</div>
<h3 id="uc01-adding-a-tag-to-an-expense" class="discrete">UC01: Adding a tag to an expense</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to list expenses</p>
</li>
<li>
<p>Billboard shows a list of recent expenses</p>
</li>
<li>
<p>User requests to tag a specific expense in the list</p>
</li>
<li>
<p>Billboard tags the specific expense with the input tag name</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. There are no recent expenses.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>2a1. Billboard displays an empty list</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>3a. The given index or tag name is invalid</p>
<div class="ulist none">
<ul class="none">
<li>
<p>3a1.  Billboard shows an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 2.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="uc02-filter-expenses-by-tag"><a class="link" href="#uc02-filter-expenses-by-tag">UC02: Filter expenses by tag</a></h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to list all tags</p>
</li>
<li>
<p>Billboard shows a list of tags</p>
</li>
<li>
<p>User requests to filter expenses by specific tag</p>
</li>
<li>
<p>Billboard shows a list of recent expenses under the specific tag.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. There are no existing tags</p>
<div class="ulist none">
<ul class="none">
<li>
<p>2a1. Billboard displays an empty list</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>3a. The given tag name is invalid</p>
<div class="ulist none">
<ul class="none">
<li>
<p>3a1.  Billboard shows an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 2.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="uc03-add-an-expense-to-an-archive"><a class="link" href="#uc03-add-an-expense-to-an-archive">UC03: Add an expense to an archive</a></h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to list recent expenses</p>
</li>
<li>
<p>Billboard shows a list of recent expenses</p>
</li>
<li>
<p>User requests to list all archives</p>
</li>
<li>
<p>Billboard shows a list of archives</p>
</li>
<li>
<p>User requests to add a specific expense into a specific archive</p>
</li>
<li>
<p>Billboard removes the specific  expense from list of current records and adds it to the specific  archive</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. There is no current records</p>
<div class="ulist none">
<ul class="none">
<li>
<p>2a1. Billboard displays an empty list</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>4a. There are no existing archives</p>
<div class="ulist none">
<ul class="none">
<li>
<p>4a1.  Billboard shows an empty list.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>5a. The given record index or archive name is invalid</p>
<div class="ulist none">
<ul class="none">
<li>
<p>5a1.  Billboard shows an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 4.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="uc04-deleting-an-archived-expense"><a class="link" href="#uc04-deleting-an-archived-expense">UC04: Deleting an archived expense</a></h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to list all expenses under a specific archive</p>
</li>
<li>
<p>Billboard shows a list of expenses under the specific archive</p>
</li>
<li>
<p>User requests to delete a specific expense from the archive</p>
</li>
<li>
<p>Billboard deletes the specific  expense from the specific  archive.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. The archive has no expenses in it</p>
<div class="ulist none">
<ul class="none">
<li>
<p>2a1. Billboard displays an empty list</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>2b. The archive name is invalid</p>
<div class="ulist none">
<ul class="none">
<li>
<p>2b1.  Billboard shows an error.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>3a. The given record index or archive name is invalid</p>
<div class="ulist none">
<ul class="none">
<li>
<p>3a1.  Billboard shows an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 2.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="uc05-deleting-an-entire-archive"><a class="link" href="#uc05-deleting-an-entire-archive">UC05: Deleting an entire archive</a></h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to list all existing archives</p>
</li>
<li>
<p>Billboard shows a list of all existing archives</p>
</li>
<li>
<p>User requests to delete a specific archive from the list</p>
</li>
<li>
<p>Billboard deletes the specific archive</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. There are no existing archives</p>
<div class="ulist none">
<ul class="none">
<li>
<p>2a1. Billboard displays an empty list</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>3a.  The given archive name is invalid</p>
<div class="ulist none">
<ul class="none">
<li>
<p>3a1.  Billboard shows an error.</p>
<div class="paragraph">
<p>Use case resumes at step 2.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="uc06-finding-a-expense-record-by-keywords-date-created-and-amount-spent"><a class="link" href="#uc06-finding-a-expense-record-by-keywords-date-created-and-amount-spent">UC06: Finding a expense record by keywords, date created and amount spent</a></h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User enters parameters that is used to filter expenses.</p>
</li>
<li>
<p>Billboard displays a list of expenses that satisfies all the parameters.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. There are no expenses that satisfies all the parameters in user input.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>2a1. Billboard displays an empty list</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. Parameters are not in the correct format.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>2a1. Billboard displays an error message and informs user of correct usage.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>{More to be added}</em></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="non-functional-requirements"><a class="link" href="#non-functional-requirements">Appendix D: Non Functional Requirements</a></h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Should work on any <a href="#mainstream-os">mainstream OS</a> as long as it has Java <code>11</code> or above installed.</p>
</li>
<li>
<p>Should be able to hold up to 1000 expenses/income records without a noticeable sluggishness in performance for typical usage.</p>
</li>
<li>
<p>A user with above average typing speed for regular English text (i.e. not code, not system admin commands) should be able to accomplish most of the tasks faster using commands than using the mouse.</p>
</li>
<li>
<p>Commands are easy to remember and intuitive.</p>
</li>
<li>
<p>The software should work without requiring an installer./portable.</p>
</li>
<li>
<p>The data should be stored locally and should be in a human editable text file.</p>
</li>
<li>
<p>Software is for single users only.</p>
</li>
<li>
<p>The software should not depend on a remote server.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>{More to be added}</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="glossary"><a class="link" href="#glossary">Appendix E: Glossary</a></h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="mainstream-os"></a> Mainstream OS</dt>
<dd>
<p>Windows, Linux, Unix, OS-X</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="product-survey"><a class="link" href="#product-survey">Appendix F: Product Survey</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Product Name</strong></p>
</div>
<div class="paragraph">
<p>Author: &#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>Pros:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>&#8230;&#8203;</p>
</li>
<li>
<p>&#8230;&#8203;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Cons:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>&#8230;&#8203;</p>
</li>
<li>
<p>&#8230;&#8203;</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="instructions-for-manual-testing"><a class="link" href="#instructions-for-manual-testing">Appendix G: Instructions for Manual Testing</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Given below are instructions to test the app manually.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
These instructions only provide a starting point for testers to work on; testers are expected to do more <em>exploratory</em> testing.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="launch-and-shutdown"><a class="link" href="#launch-and-shutdown">G.1. Launch and Shutdown</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Initial launch</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Download the jar file and copy into an empty folder</p>
</li>
<li>
<p>Double-click the jar file<br>
Expected: Shows the GUI with a set of sample contacts. The window size may not be optimum.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Saving window preferences</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Resize the window to an optimum size. Move the window to a different location. Close the window.</p>
</li>
<li>
<p>Re-launch the app by double-clicking the jar file.<br>
Expected: The most recent window size and location is retained.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>{ more test cases &#8230;&#8203; }</em></p>
</div>
</div>
<div class="sect2">
<h3 id="deleting-an-expense"><a class="link" href="#deleting-an-expense">G.2. Deleting an expense</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Deleting an expense while all persons are listed</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: List all expenses using the <code>list</code> command. Multiple expenses in the list.</p>
</li>
<li>
<p>Test case: <code>delete 1</code><br>
Expected: First expense is deleted from the list. Details of the deleted expense shown in the status message. Timestamp in the status bar is updated.</p>
</li>
<li>
<p>Test case: <code>delete 0</code><br>
Expected: No expense is deleted. Error details shown in the status message. Status bar remains the same.</p>
</li>
<li>
<p>Other incorrect delete commands to try: <code>delete</code>, <code>delete x</code> (where x is larger than the list size) <em>{give more}</em><br>
Expected: Similar to previous.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>{ more test cases &#8230;&#8203; }</em></p>
</div>
</div>
<div class="sect2">
<h3 id="saving-data"><a class="link" href="#saving-data">G.3. Saving data</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Dealing with missing/corrupted data files</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><em>{explain how to simulate a missing/corrupted file and the expected behavior}</em></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>{ more test cases &#8230;&#8203; }</em></p>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-10-30 14:19:14 UTC</div></div></div></body></html>